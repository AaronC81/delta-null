; set built-in LED to output
putl r1, 0x10
puth r1, 0xF0
putl r2, 0x01
puth r2, 0x00
write r1, r2

blink:

    ; busy-waits for 0xFFFF * 4 "soft cycles"
    putl r2, 0xFF ; r2 = counter
    puth r2, 0xFF
    loop:
        dec r2
        eqz r2
        inv
        cjmpoff loop/offset

    ; toggle LED
    putl r1, 0x12
    puth r1, 0xF0
    read r2, r1
    not r2
    write r1, r2

    ; repeat
    jmpoff blink/offset
